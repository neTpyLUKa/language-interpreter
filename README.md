# language-interpreter

В этом проекте лежит решение задания для проекта стажировки IDE Feature Suggester в JetBrains

main функция лежит в src/main/java/text_editor.java, запускать проще всего через IDE

При запуске открывается два окна, одно из них предзначенно для написания кода, другое для вывода результатов работы.

В окне для написания есть кнопка Run. При её нажатии и условии, что код не содержит синтаксических ошибок и исполнение также завершилось без ошибок (деление на ноль, использование необъявленных переменных), результат работы программы будет отображен во втором окне.

В случае обнаружения нового if, содержащего хотя бы два Statement, вывод программы заменяется сообщением "New if detected".

Также у решения присутствуют тесты (src/test/kotlin/*), в них вывод в окно подменяется записью в строку, для удобства такого тестирования используется класс Writer, инкапсулирующий в себе логику записи куда-либо.



# Немного о реализации:

Для каждой сущности создается класс, каждый из которых наследуется от базового. У классов есть статический метод parse, который пытается прочитать соответствущую ему сущность (Число, if, сравнение, арифметические операции и т д).

В итоге получается дерево Statement'ов - самма программа. из корня запускатеся виртуальный метод eval, который рекурсивно обходит дерево и обрабатывает все объекты.
